<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head th:replace="layout/layout :: head"></head>

<body>
<header th:replace="layout/layout :: header"></header>

<div class="container py-4">
    <div class="card bg-light">
        <div class="card-header" th:text="${title}"></div>
        <div class="card-body">
            <h4 class="card-title">
                <a class="btn btn-secondary btn-xs" th:href="@{'/view/' + ${bill.client.id}}"
                   th:text="'&laquo; Go back'"></a>
            </h4>

            <!--/*@thymesVar id="bill" type="com.mrn.springbootjpa.models.entity.Bills"*/-->
            <form th:action="@{bill/form_bill}" th:object="${bill}" method="post">

                <div class="form-group row">
                    <label class="col-sm-2 col-form-label" th:text="'Client'"></label>
                    <div class="col-sm-6">
                        <!--read only input text-->
                        <input type="text" th:value="${bill.client.fullName()}" class="form-control"
                               disabled='disabled'/>
                    </div>
                </div>

                <div class="form-group row">
                    <label class="col-sm-2 col-form-label" th:text="'Description'"></label>
                    <div class="col-sm-6">
                        <input type="text" th:field="*{description}" class="form-control"/>
                    </div>
                </div>

                <div class="form-group row">
                    <label class="col-sm-2 col-form-label" th:text="'Observation'"></label>
                    <div class="col-sm-6">
                        <textarea th:field="*{observation}" class="form-control"></textarea>
                    </div>
                </div>

                <div class="form-group row">
                    <label for="search_product" class="col-sm-2 col-form-label" th:text="'Search Product'"></label>
                    <div class="col-sm-6">
                        <input type="text" name="search_product" id="search_product" class="form-control"/>
                    </div>
                </div>

                <table th:replace="bill/items-template :: itemsTemplate"></table>

                <table id="loadItemProduct" class="table table-striped table-sm table-hover">
                    <thead>
                    <tr>
                        <th>Name</th>
                        <th>Amount</th>
                        <th>Price</th>
                        <th>Sub-Total</th>
                        <th>Delete</th>
                    </tr>
                    </thead>
                    <tbody></tbody>
                </table>

                <h5><span class="badge badge-secondary" id="big_total" th:text="'Total'">0</span></h5>

                <div class="from-group row">
                    <div class="col-sm-6">
                        <input type="submit" th:value="${title}" class="btn btn-secondary"/>
                    </div>
                </div>
            </form>
        </div>
    </div>

</div>

<footer th:replace="layout/layout :: footer"></footer>
<script th:replace="bill/js/autocomplete-product :: javascript"></script>
</body>
</html>